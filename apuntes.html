
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apuntes - Plataforma Ex√°menes</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/apuntes.css">
    <style>
#backBtn {
    background: #6c757d !important;
    color: white !important;
    padding: 8px 16px !important;
    border: none !important;
    border-radius: 5px !important;
    font-size: 14px !important;
}
</style>
</head>
<body>
    <!-- Header principal -->
    <nav class="navbar">
        <div class="nav-content">
            <h1>Plataforma Ex√°menes de Justicia</h1>
            <div class="nav-actions">
                <span id="userName">Cargando...</span>
                <button id="backBtn">‚Üê Volver</button>
                <button id="logoutBtn">Cerrar Sesi√≥n</button>
            </div>
        </div>
    </nav>

    <!-- Contenido principal -->
    <div class="container-apuntes">
        <!-- Selector de tema superior -->
        <div class="tema-selector-container">
            <div class="tema-selector-wrapper">
                <button id="crearTemaApuntesBtn" class="btn-crear-tema">+ Crear Tema</button>
                <select id="selectorTemaApuntes" class="tema-selector">
                    <option value="">Selecciona un tema...</option>
                </select>
                <span id="temaActualApuntes" class="tema-actual-display">Ning√∫n tema seleccionado</span>
            </div>
        </div>

        <!-- Contenido principal con √≠ndice y notas -->
        <div class="main-content-apuntes" id="mainContentApuntes" style="display: none;">
            <!-- √çndice lateral -->
            <div class="indice-lateral">
                <div class="indice-header">
                    <h3>üìã √çndice</h3>
                    <button id="anadirEpigrafeBtn" class="btn-anadir-epigrafe">+ A√±adir Ep√≠grafe</button>
                </div>
                <ul id="listaEpigrafes" class="lista-epigrafes">
                    <!-- Los ep√≠grafes se cargar√°n aqu√≠ din√°micamente -->
                </ul>
            </div>

            <!-- √Årea de notas central -->
            <div class="area-notas">
                <!-- Navegaci√≥n superior -->
                <div class="navegacion-epigrafes">
                    <button id="epigrafeAnterior" class="btn-navegacion" disabled>‚óÄ Anterior</button>
                    <span id="epigrafeActual" class="epigrafe-actual-nombre">Selecciona un ep√≠grafe</span>
                    <button id="epigrafeSiguiente" class="btn-navegacion" disabled>Siguiente ‚ñ∂</button>
                </div>

                <!-- Contenido de la nota -->
                <div class="contenido-nota" id="contenidoNota">
                    <div class="nota-placeholder">
                        <p>üìù Selecciona un ep√≠grafe del √≠ndice para comenzar a tomar apuntes</p>
                    </div>
                </div>

                <div class="area-edicion" id="areaEdicion" style="display: none;">
    <div class="editor-header">
        <input type="text" id="tituloEpigrafeEditor" class="titulo-editor" placeholder="T√≠tulo del ep√≠grafe">
        <div class="editor-acciones">
            <button id="guardarNotaBtn" class="btn-guardar">üíæ Guardar</button>
            <button id="cancelarEdicionBtn" class="btn-cancelar">‚ùå Cancelar</button>
        </div>
    </div>
    <div class="toolbar-formato">
        <button type="button" class="btn-formato" onclick="formatearTexto('bold')" title="Negrita"><b>B</b></button>
        <button type="button" class="btn-formato" onclick="formatearTexto('underline')" title="Subrayado"><u>U</u></button>
        <button type="button" class="btn-formato" onclick="formatearTexto('italic')" title="Cursiva"><i>I</i></button>
        <button type="button" class="btn-formato" onclick="insertarSaltoLinea()" title="Salto de l√≠nea">‚Üµ</button>
    </div>
    <div id="contenidoEditor" class="contenido-editor-rico" contenteditable="true" placeholder="Escribe el contenido de tu nota aqu√≠..."></div>
</div>
            </div>
        </div>
    </div>

    <!-- Modales -->
    <div id="modalCrearTemaApuntes" class="modal">
        <div class="modal-content">
            <h3>Crear Nuevo Tema para Apuntes</h3>
            <input type="text" id="nombreTemaApuntes" placeholder="Nombre del tema" maxlength="50">
            <textarea id="descripcionTemaApuntes" placeholder="Descripci√≥n del tema (opcional)" maxlength="200"></textarea>
            <div class="subtema-option">
                <label>
                    <input type="checkbox" id="esSubtemaApuntes"> Es un subtema
                </label>
                <select id="temaPadreSelectApuntes" style="display: none; margin-top: 10px; width: 100%; padding: 8px;">
                    <option value="">Selecciona tema padre...</option>
                </select>
            </div>
            <div class="modal-actions">
                <button id="confirmarCrearTemaApuntes" class="btn-primary">Crear</button>
                <button id="cancelarCrearTemaApuntes" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <div id="modalAnadirEpigrafe" class="modal">
        <div class="modal-content">
            <h3>A√±adir Nuevo Ep√≠grafe</h3>
            <input type="text" id="nombreEpigrafe" placeholder="Nombre del ep√≠grafe" maxlength="100">
            <div class="modal-actions">
                <button id="confirmarAnadirEpigrafe" class="btn-primary">A√±adir</button>
                <button id="cancelarAnadirEpigrafe" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/apuntes.js"></script>
</body>
</html>
