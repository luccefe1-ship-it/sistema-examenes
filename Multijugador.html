<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duelo Multijugador</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/Multijugador.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <h1>DUELO MULTIJUGADOR</h1>
            <button id="volverHome" class="btn-volver">Volver al Inicio</button>
        </div>
    </header>

    <!-- Pantalla Inicial -->
    <div id="pantallaInicial" class="pantalla-inicial">
        <div class="opciones-sala">
            <h2>Selecciona una opción</h2>
            <div class="botones-sala">
                <button id="btnCrearSala" class="btn-sala btn-crear">Crear Sala</button>
                <button id="btnUnirseSala" class="btn-sala btn-unirse">Unirse a Sala</button>
            </div>
        </div>
    </div>

    <!-- Modal Crear Sala -->
    <div id="modalCrearSala" class="modal">
        <div class="modal-content">
            <h3>Crear Nueva Sala</h3>
            <div class="input-group">
                <label for="nombreAnfitrion">Tu nombre:</label>
                <input type="text" id="nombreAnfitrion" placeholder="Ingresa tu nombre" maxlength="20">
            </div>
            <div class="modal-actions">
                <button id="confirmarCrearSala" class="btn-primary">Crear Sala</button>
                <button id="cancelarCrearSala" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal Unirse a Sala -->
    <div id="modalUnirseSala" class="modal">
        <div class="modal-content">
            <h3>Unirse a Sala</h3>
            <div class="input-group">
                <label for="nombreInvitado">Tu nombre:</label>
                <input type="text" id="nombreInvitado" placeholder="Ingresa tu nombre" maxlength="20">
            </div>
            <div class="input-group">
                <label for="claveSala">Clave de la sala:</label>
                <input type="text" id="claveSala" placeholder="Introduce la clave" maxlength="10">
            </div>
            <div class="modal-actions">
                <button id="confirmarUnirseSala" class="btn-primary">Unirse</button>
                <button id="cancelarUnirseSala" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Sala de Espera -->
    <div id="salaEspera" class="sala-espera hidden">
        <div class="espera-content">
            <h2>Sala de Espera</h2>
            
            <div class="info-sala">
                <p><strong>Clave de la sala:</strong></p>
                <div class="clave-display" id="claveGenerada">ABC123</div>
                <button id="copiarClave" class="btn-copiar">Copiar Clave</button>
            </div>
            
            <div class="jugadores-estado">
                <div class="jugador-estado">
                    <span id="nombreJugador1" class="nombre-jugador"></span>
                    <span id="estadoJugador1" class="estado-jugador">Esperando...</span>
                </div>
                <div class="jugador-estado">
                    <span id="nombreJugador2" class="nombre-jugador"></span>
                    <span id="estadoJugador2" class="estado-jugador">Esperando...</span>
                </div>
            </div>
            
            <div class="selector-temas-sala">
                <h4>Selecciona los temas que quieres que te pregunten:</h4>
                <div id="temasDisponibles" class="temas-checkboxes">
                    <!-- Se llena dinámicamente -->
                </div>
                <div class="temas-seleccionados-info">
                    <span id="temasSeleccionadosCount">0 temas seleccionados</span>
                </div>
            </div>
            
            <div class="controles-sala">
                <button id="btnEstoyListo" class="btn-listo" disabled>Estoy Listo</button>
                <button id="salirSala" class="btn-salir">Salir de la Sala</button>
            </div>
        </div>
    </div>

    <!-- Interfaz del Juego -->
    <div id="interfazJuego" class="interfaz-juego hidden">
        <!-- Indicador de Turno -->
        <div id="indicadorTurno" class="indicador-turno">
            <h2 id="textoTurno">TE TOCA PREGUNTAR</h2>
        </div>

        <!-- Las 3 Ventanas del Juego -->
        <div class="ventanas-juego">
            <!-- Ventana Izquierda: Usuario Actual -->
            <div class="ventana ventana-usuario">
                <div class="ventana-header">
                    <h3 id="nombreUsuarioActual">Mi Usuario</h3>
                    <div id="marcadorUsuario" class="marcador">0/3</div>
                </div>
                <div class="ventana-content">
                    <div id="temasUsuario" class="lista-temas"></div>
                </div>
            </div>

            <!-- Ventana Central: Pregunta Actual -->
            <div class="ventana ventana-central">
                <div class="ventana-header">
                    <h3>PREGUNTA ACTUAL</h3>
                    <div id="cronometroRespuesta" class="cronometro-respuesta hidden">⏱️ <span id="tiempoRespuesta">1:00</span></div>
                </div>
                <div class="ventana-content">
                    <div id="preguntaActual" class="pregunta-display">
                        <div id="textoPregunta" class="texto-pregunta">
                            Selecciona una pregunta del rival para empezar
                        </div>
                        <div id="opcionesPregunta" class="opciones-pregunta">
                            <!-- Las opciones aparecerán aquí -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ventana Derecha: Rival -->
            <div class="ventana ventana-rival">
                <div class="ventana-header">
                    <h3 id="nombreRival">Rival</h3>
                    <div id="marcadorRival" class="marcador">0/3</div>
                </div>
                <div class="ventana-content">
                    <div id="temasRival" class="lista-temas"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pantalla de Resultado -->
    <div id="pantallaResultado" class="pantalla-resultado hidden">
        <div class="resultado-content">
            <h2 id="textoResultado">RESULTADO DEL DUELO</h2>
            <div id="marcadorFinal" class="marcador-final">
                <span id="marcadorFinalUsuario">0/3</span>
                <span class="vs">VS</span>
                <span id="marcadorFinalRival">3/3</span>
            </div>
            <div class="acciones-finales">
                <button id="repetirDuelo" class="btn-repetir">Repetir Duelo</button>
                <button id="salirDuelo" class="btn-salir-duelo">Salir de la Sala</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/Multijugador.js"></script>
    <script>
// Función para actualizar el fondo según la hora
function actualizarFondoHora() {
    const ahora = new Date();
    const hora = ahora.getHours();
    const body = document.body;
    
    // Limpiar clases anteriores
    body.classList.remove('dia', 'tarde', 'noche');
    
    if (hora >= 6 && hora < 18) {
        // Día (6:00 - 18:00) - Fondo claro
        body.classList.add('dia');
    } else if (hora >= 18 && hora < 21) {
        // Tarde (18:00 - 21:00) - Fondo actual
        body.classList.add('tarde');
    } else {
        // Noche (21:00 - 6:00) - Fondo oscuro
        body.classList.add('noche');
    }
}

// Aplicar fondo al cargar
document.addEventListener('DOMContentLoaded', () => {
    actualizarFondoHora();
});
</script>
</body>
</html>
